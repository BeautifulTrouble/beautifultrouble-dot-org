<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Media Library Assistant » \MLAData</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Media Library Assistant</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu"></ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">0</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="method public "><a href="#initialize" title="initialize :: Initialization function, similar to __construct()"><span class="description">Initialization function, similar to __construct()</span><pre>initialize()</pre></a></li>
<li class="method public "><a href="#mla_count_list_table_items" title="mla_count_list_table_items :: Get the total number of attachment posts"><span class="description">Get the total number of attachment posts</span><pre>mla_count_list_table_items()</pre></a></li>
<li class="method public "><a href="#mla_exif_metadata_value" title="mla_exif_metadata_value :: Parse one EXIF metadata field"><span class="description">Parse one EXIF metadata field</span><pre>mla_exif_metadata_value()</pre></a></li>
<li class="method public "><a href="#mla_fetch_attachment_image_metadata" title="mla_fetch_attachment_image_metadata :: Fetch and filter IPTC and EXIF meta data for an image attachment"><span class="description">Fetch and filter IPTC and EXIF meta data for an image attachment</span><pre>mla_fetch_attachment_image_metadata()</pre></a></li>
<li class="method public "><a href="#mla_fetch_attachment_metadata" title="mla_fetch_attachment_metadata :: Fetch and filter meta data for an attachment"><span class="description">Fetch and filter meta data for an attachment</span><pre>mla_fetch_attachment_metadata()</pre></a></li>
<li class="method public "><a href="#mla_fetch_attachment_parent_data" title="mla_fetch_attachment_parent_data :: Returns information about an attachment's parent, if found"><span class="description">Returns information about an attachment's parent, if found</span><pre>mla_fetch_attachment_parent_data()</pre></a></li>
<li class="method public "><a href="#mla_fetch_attachment_references" title="mla_fetch_attachment_references :: Find Featured Image and inserted image/link references to an attachment"><span class="description">Find Featured Image and inserted image/link references to an attachment</span><pre>mla_fetch_attachment_references()</pre></a></li>
<li class="method public "><a href="#mla_find_array_element" title="mla_find_array_element :: Finds the value of a key in a possibily nested array structure"><span class="description">Finds the value of a key in a possibily nested array structure</span><pre>mla_find_array_element()</pre></a></li>
<li class="method public "><a href="#mla_flush_mla_galleries" title="mla_flush_mla_galleries :: Invalidates the $mla_galleries or $galleries array and cached values"><span class="description">Invalidates the $mla_galleries or $galleries array and cached values</span><pre>mla_flush_mla_galleries()</pre></a></li>
<li class="method public "><a href="#mla_get_attachment_by_id" title="mla_get_attachment_by_id :: Retrieve an Attachment array given a $post_id"><span class="description">Retrieve an Attachment array given a $post_id</span><pre>mla_get_attachment_by_id()</pre></a></li>
<li class="method public "><a href="#mla_get_template_placeholders" title="mla_get_template_placeholders :: Analyze a template, returning an array of the place holders it contains"><span class="description">Analyze a template, returning an array of the place holders it contains</span><pre>mla_get_template_placeholders()</pre></a></li>
<li class="method public "><a href="#mla_iptc_metadata_value" title="mla_iptc_metadata_value :: Parse one IPTC metadata field"><span class="description">Parse one IPTC metadata field</span><pre>mla_iptc_metadata_value()</pre></a></li>
<li class="method public "><a href="#mla_load_template" title="mla_load_template :: Load an HTML template from a file"><span class="description">Load an HTML template from a file</span><pre>mla_load_template()</pre></a></li>
<li class="method public "><a href="#mla_parse_template" title="mla_parse_template :: Expand a template, replacing place holders with their values"><span class="description">Expand a template, replacing place holders with their values</span><pre>mla_parse_template()</pre></a></li>
<li class="method public "><a href="#mla_query_list_table_items" title="mla_query_list_table_items :: Retrieve attachment objects for list table display"><span class="description">Retrieve attachment objects for list table display</span><pre>mla_query_list_table_items()</pre></a></li>
<li class="method public "><a href="#mla_query_media_modal_items" title="mla_query_media_modal_items :: Retrieve attachment objects for the WordPress Media Manager"><span class="description">Retrieve attachment objects for the WordPress Media Manager</span><pre>mla_query_media_modal_items()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_join_filter" title="mla_query_posts_join_filter :: Adds a JOIN clause, if required, to handle sorting/searching on custom fields or ALT Text"><span class="description">Adds a JOIN clause, if required, to handle sorting/searching on custom fields or ALT Text</span><pre>mla_query_posts_join_filter()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_orderby_filter" title="mla_query_posts_orderby_filter :: Adds a ORDERBY clause, if required"><span class="description">Adds a ORDERBY clause, if required</span><pre>mla_query_posts_orderby_filter()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_search_filter" title="mla_query_posts_search_filter :: Adds a keyword search to the WHERE clause, if required"><span class="description">Adds a keyword search to the WHERE clause, if required</span><pre>mla_query_posts_search_filter()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_where_filter" title="mla_query_posts_where_filter :: Adds a WHERE clause for detached items"><span class="description">Adds a WHERE clause for detached items</span><pre>mla_query_posts_where_filter()</pre></a></li>
<li class="method public "><a href="#mla_save_post_action" title="mla_save_post_action :: Invalidates $mla_galleries and $galleries arrays and cached values after post, page or attachment updates"><span class="description">Invalidates $mla_galleries and $galleries arrays and cached values after post, page or attachment updates</span><pre>mla_save_post_action()</pre></a></li>
<li class="method public "><a href="#mla_update_item_postmeta" title="mla_update_item_postmeta :: Update custom field data for a single attachment."><span class="description">Update custom field data for a single attachment.</span><pre>mla_update_item_postmeta()</pre></a></li>
<li class="method public "><a href="#mla_update_single_item" title="mla_update_single_item :: Update a single item; change the meta data
for a single attachment."><span class="description">Update a single item; change the meta data
for a single attachment.</span><pre>mla_update_single_item()</pre></a></li>
<li class="nav-header private">» Private</li>
<li class="method private "><a href="#_bin_to_utf8" title="_bin_to_utf8 :: Replace SQL incorrect characters (0x80 - 0xFF) with their UTF-8 equivalents"><span class="description">Replace SQL incorrect characters (0x80 - 0xFF) with their UTF-8 equivalents</span><pre>_bin_to_utf8()</pre></a></li>
<li class="method private "><a href="#_build_mla_galleries" title="_build_mla_galleries :: Builds the $mla_galleries or $galleries array"><span class="description">Builds the $mla_galleries or $galleries array</span><pre>_build_mla_galleries()</pre></a></li>
<li class="method private "><a href="#_build_pdf_indirect_objects" title="_build_pdf_indirect_objects :: Build an array of indirect object definitions"><span class="description">Build an array of indirect object definitions</span><pre>_build_pdf_indirect_objects()</pre></a></li>
<li class="method private "><a href="#_execute_list_table_query" title="_execute_list_table_query :: Add filters, run query, remove filters"><span class="description">Add filters, run query, remove filters</span><pre>_execute_list_table_query()</pre></a></li>
<li class="method private "><a href="#_extract_pdf_metadata" title="_extract_pdf_metadata :: Extract Metadata from a PDF file"><span class="description">Extract Metadata from a PDF file</span><pre>_extract_pdf_metadata()</pre></a></li>
<li class="method private "><a href="#_hex_dump" title="_hex_dump :: Format printable version of binary data"><span class="description">Format printable version of binary data</span><pre>_hex_dump()</pre></a></li>
<li class="method private "><a href="#_parse_pdf_dictionary" title="_parse_pdf_dictionary :: Parse a PDF dictionary object"><span class="description">Parse a PDF dictionary object</span><pre>_parse_pdf_dictionary()</pre></a></li>
<li class="method private "><a href="#_prepare_list_table_query" title="_prepare_list_table_query :: Sanitize and expand query arguments from request variables"><span class="description">Sanitize and expand query arguments from request variables</span><pre>_prepare_list_table_query()</pre></a></li>
<li class="method private "><a href="#_remove_tags" title="_remove_tags :: Remove tags from a term ids list"><span class="description">Remove tags from a term ids list</span><pre>_remove_tags()</pre></a></li>
<li class="method private "><a href="#_search_mla_galleries" title="_search_mla_galleries :: Search the $mla_galleries or $galleries array"><span class="description">Search the $mla_galleries or $galleries array</span><pre>_search_mla_galleries()</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties</li>
<li class="property public "><a href="#%24mla_iptc_keys" title="$mla_iptc_keys :: IPTC Dataset friendly name/slug and identifiers"><span class="description">IPTC Dataset friendly name/slug and identifiers</span><pre>$mla_iptc_keys</pre></a></li>
<li class="nav-header private">» Private</li>
<li class="property private "><a href="#%24galleries" title="$galleries :: Objects containing [gallery] shortcodes"><span class="description">Objects containing [gallery] shortcodes</span><pre>$galleries</pre></a></li>
<li class="property private "><a href="#%24mla_alt_text_view" title="$mla_alt_text_view :: Provides a unique name for the ALT Text SQL VIEW"><span class="description">Provides a unique name for the ALT Text SQL VIEW</span><pre>$mla_alt_text_view</pre></a></li>
<li class="property private "><a href="#%24mla_galleries" title="$mla_galleries :: Objects containing [mla_gallery] shortcodes"><span class="description">Objects containing [mla_gallery] shortcodes</span><pre>$mla_galleries</pre></a></li>
<li class="property private "><a href="#%24mla_iptc_descriptions" title="$mla_iptc_descriptions :: IPTC Dataset descriptions"><span class="description">IPTC Dataset descriptions</span><pre>$mla_iptc_descriptions</pre></a></li>
<li class="property private "><a href="#%24mla_iptc_formats" title="$mla_iptc_formats :: IPTC file format identifiers and descriptions"><span class="description">IPTC file format identifiers and descriptions</span><pre>$mla_iptc_formats</pre></a></li>
<li class="property private "><a href="#%24mla_iptc_image_types" title="$mla_iptc_image_types :: IPTC image type identifiers and descriptions"><span class="description">IPTC image type identifiers and descriptions</span><pre>$mla_iptc_image_types</pre></a></li>
<li class="property private "><a href="#%24mla_iptc_records" title="$mla_iptc_records :: IPTC Dataset identifiers and names"><span class="description">IPTC Dataset identifiers and names</span><pre>$mla_iptc_records</pre></a></li>
<li class="property private "><a href="#%24mla_list_table_items" title="$mla_list_table_items :: Cache the results of mla_count_list_table_items for reuse in mla_query_list_table_items"><span class="description">Cache the results of mla_count_list_table_items for reuse in mla_query_list_table_items</span><pre>$mla_list_table_items</pre></a></li>
<li class="property private "><a href="#%24pdf_indirect_objects" title="$pdf_indirect_objects :: Array of PDF indirect objects"><span class="description">Array of PDF indirect objects</span><pre>$pdf_indirect_objects</pre></a></li>
<li class="property private "><a href="#%24query_parameters" title='$query_parameters :: WP_Query filter "parameters"'><span class="description">WP_Query filter "parameters"</span><pre>$query_parameters</pre></a></li>
<li class="property private "><a href="#%24utf8_chars" title="$utf8_chars :: UTF-8 replacements for invalid SQL characters"><span class="description">UTF-8 replacements for invalid SQL characters</span><pre>$utf8_chars</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-constant"></i> Constants</li>
<li class="constant  "><a href="#MLA_ALT_TEXT_VIEW_SUFFIX" title="MLA_ALT_TEXT_VIEW_SUFFIX :: Provides a unique suffix for the ALT Text SQL VIEW"><span class="description">Provides a unique suffix for the ALT Text SQL VIEW</span><pre>MLA_ALT_TEXT_VIEW_SUFFIX</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CMLAData" id="\MLAData"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/MLAData.html">MLAData</a>
</li>
</ul>
<div href="../classes/MLAData.html" class="element class">
<p class="short_description">Class MLA (Media Library Assistant) Data provides database and template file access for MLA needs</p>
<div class="details">
<p class="long_description"><p>The _template functions are inspired by the book "WordPress 3 Plugin Development Essentials."
Templates separate HTML markup from PHP code for easier maintenance and localization.</p></p>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/Media%20Library%20Assistant.html">Media Library Assistant</a></td>
</tr>
<tr>
<th>since</th>
<td>0.1</td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="initialize" id="initialize"></a><div class="element clickable method public initialize" data-toggle="collapse" data-target=".initialize .collapse">
<h2>Initialization function, similar to __construct()</h2>
<pre>initialize() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
</div></div>
</div>
<a name="mla_count_list_table_items" id="mla_count_list_table_items"></a><div class="element clickable method public mla_count_list_table_items" data-toggle="collapse" data-target=".mla_count_list_table_items .collapse">
<h2>Get the total number of attachment posts</h2>
<pre>mla_count_list_table_items(array $request, int $offset, int $count) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>Query variables, e.g., from $_REQUEST</p>
</div>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code><p>(optional) number of rows to skip over to reach desired page</p>
</div>
<div class="subelement argument">
<h4>$count</h4>
<code>int</code><p>(optional) number of rows on each page</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>Number of attachment posts</div>
</div></div>
</div>
<a name="mla_exif_metadata_value" id="mla_exif_metadata_value"></a><div class="element clickable method public mla_exif_metadata_value" data-toggle="collapse" data-target=".mla_exif_metadata_value .collapse">
<h2>Parse one EXIF metadata field</h2>
<pre>mla_exif_metadata_value(string $exif_key, string $image_metadata) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Returns a string value, converting array data to a string as necessary.
Also handles the special pseudo-values 'ALL_EXIF' and 'ALL_IPTC'.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.13</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$exif_key</h4>
<code>string</code><p>field name</p></div>
<div class="subelement argument">
<h4>$image_metadata</h4>
<code>string</code><p>metadata array containing 'mla_exif_metadata' and 'mla_iptc_metadata' arrays</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>string representation of metadata value or an empty string</div>
</div></div>
</div>
<a name="mla_fetch_attachment_image_metadata" id="mla_fetch_attachment_image_metadata"></a><div class="element clickable method public mla_fetch_attachment_image_metadata" data-toggle="collapse" data-target=".mla_fetch_attachment_image_metadata .collapse">
<h2>Fetch and filter IPTC and EXIF meta data for an image attachment</h2>
<pre>mla_fetch_attachment_image_metadata(int $post_id, string $path) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Returns</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>int</code><p>post ID of attachment</p></div>
<div class="subelement argument">
<h4>$path</h4>
<code>string</code><p>optional; if $post_id is zero, path to the image file.</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Meta data variables</div>
</div></div>
</div>
<a name="mla_fetch_attachment_metadata" id="mla_fetch_attachment_metadata"></a><div class="element clickable method public mla_fetch_attachment_metadata" data-toggle="collapse" data-target=".mla_fetch_attachment_metadata .collapse">
<h2>Fetch and filter meta data for an attachment</h2>
<pre>mla_fetch_attachment_metadata(int $post_id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Returns a filtered array of a post's meta data. Internal values beginning with '<em>'
are stripped out or converted to an 'mla</em>' equivalent. Array data is replaced with
a string containing the first array element.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>int</code><p>post ID of attachment</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Meta data variables</div>
</div></div>
</div>
<a name="mla_fetch_attachment_parent_data" id="mla_fetch_attachment_parent_data"></a><div class="element clickable method public mla_fetch_attachment_parent_data" data-toggle="collapse" data-target=".mla_fetch_attachment_parent_data .collapse">
<h2>Returns information about an attachment's parent, if found</h2>
<pre>mla_fetch_attachment_parent_data(int $parent_id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$parent_id</h4>
<code>int</code><p>post ID of attachment's parent, if any</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Parent information; post_date, post_title and post_type</div>
</div></div>
</div>
<a name="mla_fetch_attachment_references" id="mla_fetch_attachment_references"></a><div class="element clickable method public mla_fetch_attachment_references" data-toggle="collapse" data-target=".mla_fetch_attachment_references .collapse">
<h2>Find Featured Image and inserted image/link references to an attachment</h2>
<pre>mla_fetch_attachment_references(int $ID, int $parent) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Searches all post and page content to see if the attachment is used
as a Featured Image or inserted in the post as an image or link.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$ID</h4>
<code>int</code><p>post ID of attachment</p></div>
<div class="subelement argument">
<h4>$parent</h4>
<code>int</code><p>post ID of attachment's parent, if any</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Reference information; see $references array comments</div>
</div></div>
</div>
<a name="mla_find_array_element" id="mla_find_array_element"></a><div class="element clickable method public mla_find_array_element" data-toggle="collapse" data-target=".mla_find_array_element .collapse">
<h2>Finds the value of a key in a possibily nested array structure</h2>
<pre>mla_find_array_element(string $needle, array $haystack, string $option, boolean $keep_existing) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Used primarily to extract fields from the _wp_attachment_metadata custom field.
Could also be used with the ID3 metadata exposed in WordPress 3.6 and later.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$needle</h4>
<code>string</code><p>key value, e.g. array1.array2.element</p></div>
<div class="subelement argument">
<h4>$haystack</h4>
<code>array</code><p>PHP nested arrays</p></div>
<div class="subelement argument">
<h4>$option</h4>
<code>string</code><p>format option 'text'|'single'|'export'|'array'|'multi'</p>
</div>
<div class="subelement argument">
<h4>$keep_existing</h4>
<code>boolean</code><p>keep existing values - for 'multi' option</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>value matching key(.key ...) or ''</div>
</div></div>
</div>
<a name="mla_flush_mla_galleries" id="mla_flush_mla_galleries"></a><div class="element clickable method public mla_flush_mla_galleries" data-toggle="collapse" data-target=".mla_flush_mla_galleries .collapse">
<h2>Invalidates the $mla_galleries or $galleries array and cached values</h2>
<pre>mla_flush_mla_galleries(string $option_name) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.00</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$option_name</h4>
<code>string</code><p>name of the gallery's cache/option variable</p>
</div>
</div></div>
</div>
<a name="mla_get_attachment_by_id" id="mla_get_attachment_by_id"></a><div class="element clickable method public mla_get_attachment_by_id" data-toggle="collapse" data-target=".mla_get_attachment_by_id .collapse">
<h2>Retrieve an Attachment array given a $post_id</h2>
<pre>mla_get_attachment_by_id(int $post_id) : NULL | array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The (associative) array will contain every field that can be found in
the posts and postmeta tables, and all references to the attachment.</p></p>
<table class="table table-bordered">
<tr>
<th>since</th>
<td>0.1</td>
</tr>
<tr>
<th>uses</th>
<td>\global\$post</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>int</code><p>The ID of the attachment post</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>NULL</code><code>array</code>NULL on failure else associative array</div>
</div></div>
</div>
<a name="mla_get_template_placeholders" id="mla_get_template_placeholders"></a><div class="element clickable method public mla_get_template_placeholders" data-toggle="collapse" data-target=".mla_get_template_placeholders .collapse">
<h2>Analyze a template, returning an array of the place holders it contains</h2>
<pre>mla_get_template_placeholders(string $tpl) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tpl</h4>
<code>string</code><p>A formatting string containing [+placeholders+]</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Placeholder information: each entry is an array with ['prefix'] => string, ['value'] => string, ['option'] => string 'single'|'export'</div>
</div></div>
</div>
<a name="mla_iptc_metadata_value" id="mla_iptc_metadata_value"></a><div class="element clickable method public mla_iptc_metadata_value" data-toggle="collapse" data-target=".mla_iptc_metadata_value .collapse">
<h2>Parse one IPTC metadata field</h2>
<pre>mla_iptc_metadata_value(string $iptc_key, string $image_metadata) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Returns a string value, converting array data to a string as necessary.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.41</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$iptc_key</h4>
<code>string</code><p>field name - IPTC Identifier or friendly name/slug</p>
</div>
<div class="subelement argument">
<h4>$image_metadata</h4>
<code>string</code><p>metadata array containing 'mla_iptc_metadata' array</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>string/array representation of metadata value or an empty string</div>
</div></div>
</div>
<a name="mla_load_template" id="mla_load_template"></a><div class="element clickable method public mla_load_template" data-toggle="collapse" data-target=".mla_load_template .collapse">
<h2>Load an HTML template from a file</h2>
<pre>mla_load_template(string $source, string $type) : string | array | false | NULL</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Loads a template to a string or a multi-part template to an array.
Multi-part templates are divided by comments of the form <!-- template="key" -->,
where "key" becomes the key part of the array.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$source</h4>
<code>string</code><p>Complete path and name of the template file, option name or the raw template</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>Optional type of template source; 'file' (default), 'option', 'string'</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code><code>array</code><code>false</code><code>NULL</code>string for files that do not contain template divider comments, array for files containing template divider comments, false if file or option does not exist, NULL if file could not be loaded.</div>
</div></div>
</div>
<a name="mla_parse_template" id="mla_parse_template"></a><div class="element clickable method public mla_parse_template" data-toggle="collapse" data-target=".mla_parse_template .collapse">
<h2>Expand a template, replacing place holders with their values</h2>
<pre>mla_parse_template(string $tpl, array $hash) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A simple parsing function for basic templating.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tpl</h4>
<code>string</code><p>A formatting string containing [+placeholders+]</p>
</div>
<div class="subelement argument">
<h4>$hash</h4>
<code>array</code><p>An associative array containing keys and values e.g. array('key' => 'value')</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Placeholders corresponding to the keys of the hash will be replaced with their values</div>
</div></div>
</div>
<a name="mla_query_list_table_items" id="mla_query_list_table_items"></a><div class="element clickable method public mla_query_list_table_items" data-toggle="collapse" data-target=".mla_query_list_table_items .collapse">
<h2>Retrieve attachment objects for list table display</h2>
<pre>mla_query_list_table_items(array $request, int $offset, int $count) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Supports prepare_items in class-mla-list-table.php.
Modeled after wp_edit_attachments_query in wp-admin/post.php</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>query parameters from web page, usually found in $_REQUEST</p>
</div>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code><p>number of rows to skip over to reach desired page</p></div>
<div class="subelement argument">
<h4>$count</h4>
<code>int</code><p>number of rows on each page</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>attachment objects (posts) including parent data, meta data and references</div>
</div></div>
</div>
<a name="mla_query_media_modal_items" id="mla_query_media_modal_items"></a><div class="element clickable method public mla_query_media_modal_items" data-toggle="collapse" data-target=".mla_query_media_modal_items .collapse">
<h2>Retrieve attachment objects for the WordPress Media Manager</h2>
<pre>mla_query_media_modal_items(array $request, int $offset, int $count) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Supports month-year and taxonomy-term filters as well as the enhanced search box</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.20</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>query parameters from Media Manager</p></div>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code><p>number of rows to skip over to reach desired page</p></div>
<div class="subelement argument">
<h4>$count</h4>
<code>int</code><p>number of rows on each page</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>attachment objects (posts)</div>
</div></div>
</div>
<a name="mla_query_posts_join_filter" id="mla_query_posts_join_filter"></a><div class="element clickable method public mla_query_posts_join_filter" data-toggle="collapse" data-target=".mla_query_posts_join_filter .collapse">
<h2>Adds a JOIN clause, if required, to handle sorting/searching on custom fields or ALT Text</h2>
<pre>mla_query_posts_join_filter(string $join_clause) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$join_clause</h4>
<code>string</code><p>query clause before modification</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>query clause after "LEFT JOIN view ON post_id" item modification</div>
</div></div>
</div>
<a name="mla_query_posts_orderby_filter" id="mla_query_posts_orderby_filter"></a><div class="element clickable method public mla_query_posts_orderby_filter" data-toggle="collapse" data-target=".mla_query_posts_orderby_filter .collapse">
<h2>Adds a ORDERBY clause, if required</h2>
<pre>mla_query_posts_orderby_filter(string $orderby_clause) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Expands the range of sort options because the logic in WP_Query is limited.
Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$orderby_clause</h4>
<code>string</code><p>query clause before modification</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>updated query clause</div>
</div></div>
</div>
<a name="mla_query_posts_search_filter" id="mla_query_posts_search_filter"></a><div class="element clickable method public mla_query_posts_search_filter" data-toggle="collapse" data-target=".mla_query_posts_search_filter .collapse">
<h2>Adds a keyword search to the WHERE clause, if required</h2>
<pre>mla_query_posts_search_filter(string $search_string, object $query_object) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.60</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$search_string</h4>
<code>string</code><p>query clause before modification</p></div>
<div class="subelement argument">
<h4>$query_object</h4>
<code>object</code><p>WP_Query object</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>query clause after keyword search addition</div>
</div></div>
</div>
<a name="mla_query_posts_where_filter" id="mla_query_posts_where_filter"></a><div class="element clickable method public mla_query_posts_where_filter" data-toggle="collapse" data-target=".mla_query_posts_where_filter .collapse">
<h2>Adds a WHERE clause for detached items</h2>
<pre>mla_query_posts_where_filter(string $where_clause) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Modeled after _edit_attachments_query_helper in wp-admin/post.php.
Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$where_clause</h4>
<code>string</code><p>query clause before modification</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>query clause after "detached" item modification</div>
</div></div>
</div>
<a name="mla_save_post_action" id="mla_save_post_action"></a><div class="element clickable method public mla_save_post_action" data-toggle="collapse" data-target=".mla_save_post_action .collapse">
<h2>Invalidates $mla_galleries and $galleries arrays and cached values after post, page or attachment updates</h2>
<pre>mla_save_post_action(integer $post_id) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.00</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>integer</code><p>ID of post/page/attachment; not used at this time</p>
</div>
</div></div>
</div>
<a name="mla_update_item_postmeta" id="mla_update_item_postmeta"></a><div class="element clickable method public mla_update_item_postmeta" data-toggle="collapse" data-target=".mla_update_item_postmeta .collapse">
<h2>Update custom field data for a single attachment.</h2>
<pre>mla_update_item_postmeta(int $post_id, array $new_meta) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.40</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>int</code><p>The ID of the attachment to be updated</p></div>
<div class="subelement argument">
<h4>$new_meta</h4>
<code>array</code><p>Field name => value pairs</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>success/failure message(s)</div>
</div></div>
</div>
<a name="mla_update_single_item" id="mla_update_single_item"></a><div class="element clickable method public mla_update_single_item" data-toggle="collapse" data-target=".mla_update_single_item .collapse">
<h2>Update a single item; change the meta data
for a single attachment.</h2>
<pre>mla_update_single_item(int $post_id, array $new_data, array $tax_input, array $tax_actions) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>int</code><p>The ID of the attachment to be updated</p></div>
<div class="subelement argument">
<h4>$new_data</h4>
<code>array</code><p>Field name => value pairs</p>
</div>
<div class="subelement argument">
<h4>$tax_input</h4>
<code>array</code><p>Optional taxonomy term values, default null</p></div>
<div class="subelement argument">
<h4>$tax_actions</h4>
<code>array</code><p>Optional taxonomy actions (add, remove, replace), default null</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>success/failure message and NULL content</div>
</div></div>
</div>
<a name="_bin_to_utf8" id="_bin_to_utf8"></a><div class="element clickable method private _bin_to_utf8" data-toggle="collapse" data-target="._bin_to_utf8 .collapse">
<h2>Replace SQL incorrect characters (0x80 - 0xFF) with their UTF-8 equivalents</h2>
<pre>_bin_to_utf8(string $string) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.41</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$string</h4>
<code>string</code><p>unencoded string</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>UTF-8 encoded string</div>
</div></div>
</div>
<a name="_build_mla_galleries" id="_build_mla_galleries"></a><div class="element clickable method private _build_mla_galleries" data-toggle="collapse" data-target="._build_mla_galleries .collapse">
<h2>Builds the $mla_galleries or $galleries array</h2>
<pre>_build_mla_galleries(string $option_name, array $galleries_array, string $shortcode, boolean $exclude_revisions) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.70</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$option_name</h4>
<code>string</code><p>name of the gallery's cache/option variable</p>
</div>
<div class="subelement argument">
<h4>$galleries_array</h4>
<code>array</code><p>by reference to the private static galleries array variable</p></div>
<div class="subelement argument">
<h4>$shortcode</h4>
<code>string</code><p>the shortcode to be searched for and processed</p></div>
<div class="subelement argument">
<h4>$exclude_revisions</h4>
<code>boolean</code><p>true to exclude revisions from the search</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true if the galleries array is not empty</div>
</div></div>
</div>
<a name="_build_pdf_indirect_objects" id="_build_pdf_indirect_objects"></a><div class="element clickable method private _build_pdf_indirect_objects" data-toggle="collapse" data-target="._build_pdf_indirect_objects .collapse">
<h2>Build an array of indirect object definitions</h2>
<pre>_build_pdf_indirect_objects(string $string) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Creates the array of indirect object offsets and lengths</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.4x</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$string</h4>
<code>string</code><p>The entire PDF document, passsed by reference</p></div>
</div></div>
</div>
<a name="_execute_list_table_query" id="_execute_list_table_query"></a><div class="element clickable method private _execute_list_table_query" data-toggle="collapse" data-target="._execute_list_table_query .collapse">
<h2>Add filters, run query, remove filters</h2>
<pre>_execute_list_table_query(array $request) : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>query parameters from web page, usually found in $_REQUEST</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>object</code>WP_Query object with query results</div>
</div></div>
</div>
<a name="_extract_pdf_metadata" id="_extract_pdf_metadata"></a><div class="element clickable method private _extract_pdf_metadata" data-toggle="collapse" data-target="._extract_pdf_metadata .collapse">
<h2>Extract Metadata from a PDF file</h2>
<pre>_extract_pdf_metadata(string $string) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.4x</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$string</h4>
<code>string</code><p>full path to the desired file</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>( key => value ) for each metadata field, in string format</div>
</div></div>
</div>
<a name="_hex_dump" id="_hex_dump"></a><div class="element clickable method private _hex_dump" data-toggle="collapse" data-target="._hex_dump .collapse">
<h2>Format printable version of binary data</h2>
<pre>_hex_dump(string $data, integer $limit, \intger $bytes_per_row) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>string</code><p>Binary data</p></div>
<div class="subelement argument">
<h4>$limit</h4>
<code>integer</code><p>Bytes to format, default = 0 (all bytes)</p>
</div>
<div class="subelement argument">
<h4>$bytes_per_row</h4>
<code>\intger</code><p>Bytes to format on each line</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Printable representation of $data</div>
</div></div>
</div>
<a name="_parse_pdf_dictionary" id="_parse_pdf_dictionary"></a><div class="element clickable method private _parse_pdf_dictionary" data-toggle="collapse" data-target="._parse_pdf_dictionary .collapse">
<h2>Parse a PDF dictionary object</h2>
<pre>_parse_pdf_dictionary(string $string) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Returns an array of dictionary contents, classified by object type: boolean, numeric, string, hex (string), indirect (object), name, array, dictionary, stream, and null.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.4x</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$string</h4>
<code>string</code><p>dictionary content, without enclosing << and >> delimiters</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>( key => array( 'type' => type, 'value' => value ) ) for each dictionary field</div>
</div></div>
</div>
<a name="_prepare_list_table_query" id="_prepare_list_table_query"></a><div class="element clickable method private _prepare_list_table_query" data-toggle="collapse" data-target="._prepare_list_table_query .collapse">
<h2>Sanitize and expand query arguments from request variables</h2>
<pre>_prepare_list_table_query(array $raw_request, int $offset, int $count) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Prepare the arguments for WP_Query.
Modeled after wp_edit_attachments_query in wp-admin/post.php</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$raw_request</h4>
<code>array</code><p>query parameters from web page, usually found in $_REQUEST</p>
</div>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code><p>Optional number of rows (default 0) to skip over to reach desired page</p>
</div>
<div class="subelement argument">
<h4>$count</h4>
<code>int</code><p>Optional number of rows on each page (0 = all rows, default)</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>revised arguments suitable for WP_Query</div>
</div></div>
</div>
<a name="_remove_tags" id="_remove_tags"></a><div class="element clickable method private _remove_tags" data-toggle="collapse" data-target="._remove_tags .collapse">
<h2>Remove tags from a term ids list</h2>
<pre>_remove_tags(array $terms_before, array $tags, object $taxonomy_obj) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.40</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$terms_before</h4>
<code>array</code><p>The term ids currently assigned</p></div>
<div class="subelement argument">
<h4>$tags</h4>
<code>array</code><p>| string The term ids (array) or names (string) to remove</p>
</div>
<div class="subelement argument">
<h4>$taxonomy_obj</h4>
<code>object</code><p>The taxonomy object</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Term ids of the surviving tags</div>
</div></div>
</div>
<a name="_search_mla_galleries" id="_search_mla_galleries"></a><div class="element clickable method private _search_mla_galleries" data-toggle="collapse" data-target="._search_mla_galleries .collapse">
<h2>Search the $mla_galleries or $galleries array</h2>
<pre>_search_mla_galleries(array $galleries_array, int $attachment_id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.70</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$galleries_array</h4>
<code>array</code><p>by reference to the private static galleries array variable</p></div>
<div class="subelement argument">
<h4>$attachment_id</h4>
<code>int</code><p>the attachment ID to be searched for and processed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>All posts/pages with one or more galleries that include the attachment. The array key is the parent_post ID; each entry contains post_title and post_type.</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a name="%24mla_iptc_keys" id="$mla_iptc_keys"> </a><div class="element clickable property public $mla_iptc_keys" data-toggle="collapse" data-target=".$mla_iptc_keys .collapse">
<h2>IPTC Dataset friendly name/slug and identifiers</h2>
<pre>$mla_iptc_keys : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains the sanitized names and identifiers of Datasets defined in
the "IPTC-NAA Information Interchange Model Version No. 4.1".</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
</div></div>
</div>
<a name="%24galleries" id="$galleries"> </a><div class="element clickable property private $galleries" data-toggle="collapse" data-target=".$galleries .collapse">
<h2>Objects containing [gallery] shortcodes</h2>
<pre>$galleries : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains all of the objects containing one or more [gallery] shortcodes
and array(s) of which attachments each [gallery] contains. The arrays are built once
each page load and cached for subsequent calls.</p>

<p>The outer array is keyed by post_id. It contains an associative array with:
['parent_title'] post_title of the gallery parent,
['parent_type'] 'post' or 'page' or the custom post_type of the gallery parent,
['results'] array ( ID => ID ) of attachments appearing in ANY of the parent's galleries.
['galleries'] array of [gallery] entries numbered from one (1), containing:
galleries[X]['query'] contains a string with the arguments of the [gallery],
galleries[X]['results'] contains an array ( ID ) of post_ids for the objects in the gallery.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.70</td>
</tr></table>
</div></div>
</div>
<a name="%24mla_alt_text_view" id="$mla_alt_text_view"> </a><div class="element clickable property private $mla_alt_text_view" data-toggle="collapse" data-target=".$mla_alt_text_view .collapse">
<h2>Provides a unique name for the ALT Text SQL VIEW</h2>
<pre>$mla_alt_text_view : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.40</td>
</tr></table>
</div></div>
</div>
<a name="%24mla_galleries" id="$mla_galleries"> </a><div class="element clickable property private $mla_galleries" data-toggle="collapse" data-target=".$mla_galleries .collapse">
<h2>Objects containing [mla_gallery] shortcodes</h2>
<pre>$mla_galleries : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains all of the objects containing one or more [mla_gallery] shortcodes
and array(s) of which attachments each [mla_gallery] contains. The arrays are built once
each page load and cached for subsequent calls.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.70</td>
</tr></table>
</div></div>
</div>
<a name="%24mla_iptc_descriptions" id="$mla_iptc_descriptions"> </a><div class="element clickable property private $mla_iptc_descriptions" data-toggle="collapse" data-target=".$mla_iptc_descriptions .collapse">
<h2>IPTC Dataset descriptions</h2>
<pre>$mla_iptc_descriptions : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains the descriptions of Datasets defined in
the "IPTC-NAA Information Interchange Model Version No. 4.1".</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
</div></div>
</div>
<a name="%24mla_iptc_formats" id="$mla_iptc_formats"> </a><div class="element clickable property private $mla_iptc_formats" data-toggle="collapse" data-target=".$mla_iptc_formats .collapse">
<h2>IPTC file format identifiers and descriptions</h2>
<pre>$mla_iptc_formats : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains the file format identifiers and descriptions defined in
the "IPTC-NAA Information Interchange Model Version No. 4.1" for dataset 1#020.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
</div></div>
</div>
<a name="%24mla_iptc_image_types" id="$mla_iptc_image_types"> </a><div class="element clickable property private $mla_iptc_image_types" data-toggle="collapse" data-target=".$mla_iptc_image_types .collapse">
<h2>IPTC image type identifiers and descriptions</h2>
<pre>$mla_iptc_image_types : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains the image type identifiers and descriptions defined in
the "IPTC-NAA Information Interchange Model Version No. 4.1" for dataset 2#130, octet 2.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
</div></div>
</div>
<a name="%24mla_iptc_records" id="$mla_iptc_records"> </a><div class="element clickable property private $mla_iptc_records" data-toggle="collapse" data-target=".$mla_iptc_records .collapse">
<h2>IPTC Dataset identifiers and names</h2>
<pre>$mla_iptc_records : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains the identifiers and names of Datasets defined in
the "IPTC-NAA Information Interchange Model Version No. 4.1".</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.90</td>
</tr></table>
</div></div>
</div>
<a name="%24mla_list_table_items" id="$mla_list_table_items"> </a><div class="element clickable property private $mla_list_table_items" data-toggle="collapse" data-target=".$mla_list_table_items .collapse">
<h2>Cache the results of mla_count_list_table_items for reuse in mla_query_list_table_items</h2>
<pre>$mla_list_table_items : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.40</td>
</tr></table>
</div></div>
</div>
<a name="%24pdf_indirect_objects" id="$pdf_indirect_objects"> </a><div class="element clickable property private $pdf_indirect_objects" data-toggle="collapse" data-target=".$pdf_indirect_objects .collapse">
<h2>Array of PDF indirect objects</h2>
<pre>$pdf_indirect_objects : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array contains all of the indirect object offsets and lengths</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.4x</td>
</tr></table>
</div></div>
</div>
<a name="%24query_parameters" id="$query_parameters"> </a><div class="element clickable property private $query_parameters" data-toggle="collapse" data-target=".$query_parameters .collapse">
<h2>WP_Query filter "parameters"</h2>
<pre>$query_parameters : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array defines parameters for the query's join, where and orderby filters.
The parameters are set up in the _prepare_list_table_query function, and
any further logic required to translate those values is contained in the filters.</p>

<p>Array index values are: use_postmeta_view, postmeta_key, postmeta_value, patterns, detached, orderby, order, mla-metavalue, debug, s, mla_search_connector, mla_search_fields, sentence, exact</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
</div></div>
</div>
<a name="%24utf8_chars" id="$utf8_chars"> </a><div class="element clickable property private $utf8_chars" data-toggle="collapse" data-target=".$utf8_chars .collapse">
<h2>UTF-8 replacements for invalid SQL characters</h2>
<pre>$utf8_chars : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.41</td>
</tr></table>
</div></div>
</div>
<h3>
<i class="icon-custom icon-constant"></i> Constants</h3>
<a name="MLA_ALT_TEXT_VIEW_SUFFIX" id="MLA_ALT_TEXT_VIEW_SUFFIX"> </a><div class="element clickable constant  MLA_ALT_TEXT_VIEW_SUFFIX" data-toggle="collapse" data-target=".MLA_ALT_TEXT_VIEW_SUFFIX .collapse">
<h2>Provides a unique suffix for the ALT Text SQL VIEW</h2>
<pre>MLA_ALT_TEXT_VIEW_SUFFIX </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.40</td>
</tr></table>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a8</a> and<br>
            generated on 2013-06-30T13:10:24-07:00.<br></footer></div>
</div>
</body>
</html>
