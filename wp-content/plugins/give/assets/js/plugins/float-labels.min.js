(function(){var e,t,l,a,n;e=window.jQuery||window.Zepto||window.$,e.fn.floatlabels=function(l){if(n=e.extend({regex:/text|password|email|number|search|url|tel/,exclude:[],customLabel:function(){},customEvent:function(){}},l),a=e(this),a.length){if("FORM"!==a.get(0).tagName){var i=a.find("form");if(0===i.length&&(i=a.closest("form")),0===i.length)return;a=i}a.addClass("floated-labels"),n.exclude.push(".no-label"),n.exclude=n.exclude.join(","),a.find("input:not("+n.exclude+")").each(function(){n.regex.test(e(this).attr("type"))&&t(this)}),a.find("textarea:not("+n.exclude+")").each(function(){t(this)}),a.find("select:not("+n.exclude+")").each(function(){t(this,"formSelect"),e(this).parent().addClass("styled select")})}},t=function(t,a){var i,s,r,c="floatlabel";if(t=e(t),i=t.attr("id"),void 0!==i&&(r=e('label[for="'+i+'"]')),r&&r.length){if(s=r.text().replace("*","").trim(),"formSelect"===a){var o=t.children().first();s.length&&""===o.val()&&""===o.text()&&o.text(s)}if(!t.parent().hasClass(c)){s.length||(s=t.attr("placeholder")),t.addClass(c+"-input").wrap(_pf('<div class="{0} {0}-{1}"/>',c,i)),n.customEvent.call(this,t);var f=n.customLabel.call(this,t,s);void 0!==f&&(s=f),r.length&&r.remove(),t.after(_pf('<label for="{0}" class="{1}-label">{2}</label>',i,c,s))}t.val().length&&t.parent().addClass("is-active"),t.on("focus",function(){t.parent().addClass("is-focused")}),t.on("blur",function(){t.parent().removeClass("is-focused")}),t.on("keyup blur change",function(e){l(t,e)})}},l=function(e,t){if(t){var l=t.keyCode||t.which;if(9===l)return}e.val().length?e.parent().addClass("is-active"):e.parent().removeClass("is-active")},_pf=function(e){var t=[].slice.call(arguments,1,arguments.length);return e.replace(/{(\d+)}/g,function(e,l){return void 0!==typeof t[l]?t[l]:e})}}).call(this);